@model BookManagement.Models.ViewModel.CustomerViewModel
@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<h2 class="text-center my-4" style="font-family: 'Georgia', serif;">Edit Customer</h2>

@using (Html.BeginForm("Edit", "Customer", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-sm">
                <div class="card-header bg-warning text-dark">
                    <h4 class="card-title mb-0">Edit Customer Information</h4>
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary()
                    @Html.HiddenFor(e => e.CustomerId)
                    @Html.HiddenFor(e => e.Picture)
                </div>

                <div class="card-body">
                    <div class="mb-3">
                        @Html.LabelFor(e => e.CustomerName, new { @class = "form-label" })
                        @Html.EditorFor(e => e.CustomerName, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(e => e.CustomerName, null, new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(e => e.BirthDate, new { @class = "form-label" })
                        @Html.EditorFor(e => e.BirthDate, new { htmlAttributes = new { @class = "form-control", @type = "date" } })
                        @Html.ValidationMessageFor(e => e.BirthDate, null, new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(e => e.IsRegular, new { @class = "form-label" })
                        @Html.EditorFor(e => e.IsRegular, new { htmlAttributes = new { @class = "form-check-input" } })
                        @Html.ValidationMessageFor(e => e.IsRegular, null, new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        <img src="@Model.Picture" id="imgfile" class="img-thumbnail" width="80" height="80" />
                        <input type="file" id="upimg" class="form-control mt-2" onchange="readUrl(this)" name="PicturePath" />
                        <label for="upimg" class="form-label mt-1">Upload Image</label>
                    </div>
                </div>

                <div class="card-footer">
                    <h5 class="mb-3">Books Associated with Customer</h5>

                    <div class="mb-3">
                        <a href="#" id="btnPluse" class="btn btn-secondary btn-sm">Add Book</a>
                    </div>

                    <div id="bokContainer">
                        @foreach (var item in Model.BookList)
                        {
                            @Html.Action("AddNewBook", "Customer", new { id = item })
                        }
                    </div>

                    <div class="mt-3 text-center">
                        <input type="submit" value="Update" class="btn btn-info" />
                    </div>
                </div>
            </div>
        </div>
    </div>
}








@*@model BookManagement.Models.ViewModel.CustomerViewModel
    @{
        ViewBag.Title = "Edit";
        Layout = "~/Views/Shared/_LayoutPage1.cshtml";
    }

    <h2>Eidt Customer</h2>
    @using (Html.BeginForm("Edit", "Customer", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary()

        @Html.HiddenFor(e => e.CustomerId)
        @Html.HiddenFor(e => e.Picture)

        <div>
            <div>
                @Html.LabelFor(e => e.CustomerName)
                @Html.EditorFor(e => e.CustomerName)
                @Html.ValidationMessageFor(e => e.CustomerName)
            </div>
            <div>
                @Html.LabelFor(e => e.BirthDate)
                @Html.EditorFor(e => e.BirthDate)
                @Html.ValidationMessageFor(e => e.BirthDate)
            </div>
            <div>
                @Html.LabelFor(e => e.IsRegular)
                @Html.EditorFor(e => e.IsRegular)
                @Html.ValidationMessageFor(e => e.IsRegular)
            </div>
            <div>
                <img src="@Model.Picture" width="100" height="100" id="imgFile" />
                <input type="file" id="upimg" class="upimg" onchange="readUrl(this)" name="PicturePath" />
                <label for="upimg">Upload</label>
            </div>
        </div>

        <div>
            <h2>Update Book</h2>
        </div>

        <div>
            <a href="#" id="btnPlus">Add</a>
        </div>

        <div id="QualiContain">
            @foreach (var item in Model.BookList)
             {
                @Html.Action("AddNewBook", "Customer", new {id=item})
             }
        </div>

        <div>
            <input type="submit" value="Update" />
        </div>
    }*@
